{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nexport const RegisterUser = createAsyncThunk('Register', async (data, {\n  rejectedWithValue\n}) => {\n  try {\n    const res = await axios.post('/user/register', data);\n    return res.data;\n  } catch (error) {\n    rejectedWithValue(error.response.data.msg);\n  }\n});\nexport const LoginUser = createAsyncThunk('Login', async (data, {\n  rejectedWithValue\n}) => {\n  try {\n    const res = await axios.post('/user/login', data);\n    return res.data;\n  } catch (error) {\n    rejectedWithValue(error.response.data.msg);\n  }\n});\nconst userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    isLoading: false,\n    token: localStorage.getItem('token') || null,\n    error: false,\n    isAuth: Boolean(localStorage.getItem('isAuth')) || null\n  },\n  reducers: {},\n  extraReducers: {\n    [RegisterUser.pending]: state => {\n      state.isLoading = true;\n    },\n    [RegisterUser.fulfilled]: (state, action) => {\n      state.token = action.payload.token;\n      state.error = null;\n    }\n  }\n});\nexport default userSlice;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","RegisterUser","data","rejectedWithValue","res","post","error","response","msg","LoginUser","userSlice","name","initialState","isLoading","token","localStorage","getItem","isAuth","Boolean","reducers","extraReducers","pending","state","fulfilled","action","payload"],"sources":["C:/Users/fulla/OneDrive/Desktop/Authentification/client/src/redux/slices/userSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice, } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\n\r\n\r\n\r\n \r\n\r\nexport const RegisterUser = createAsyncThunk('Register',async(data,{rejectedWithValue})=>{\r\ntry{\r\nconst res = await axios.post('/user/register',data)\r\nreturn res.data;\r\n\r\n}\r\ncatch(error){\r\n rejectedWithValue(error.response.data.msg)\r\n\r\n}\r\n\r\n})\r\n\r\n\r\nexport const LoginUser = createAsyncThunk('Login',async(data,{rejectedWithValue})=>{\r\n    try{\r\n    const res = await axios.post('/user/login',data)\r\n    return res.data;\r\n    \r\n    }\r\n    catch(error){\r\n     rejectedWithValue(error.response.data.msg)\r\n    \r\n    }\r\n    \r\n    })\r\n    const userSlice = createSlice({\r\n      name :'user',\r\n      initialState:{\r\n        isLoading : false,\r\n        token :localStorage.getItem('token') || null,error: false,\r\n        isAuth :Boolean(localStorage.getItem('isAuth')) || null\r\n\r\n\r\n      },\r\n      reducers:{\r\n\r\n      },\r\n      extraReducers:{\r\n        [RegisterUser.pending]:(state)=>{state.isLoading = true},\r\n        [RegisterUser.fulfilled]:(state,action)=>{\r\n         state.token = action.payload.token \r\n         state.error = null\r\n           \r\n        }\r\n\r\n\r\n\r\n      }\r\n    })\r\n\r\n\r\n\r\n    export default userSlice"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAS,kBAAkB;AACjE,OAAOC,KAAK,MAAM,OAAO;AAMzB,OAAO,MAAMC,YAAY,GAAGH,gBAAgB,CAAC,UAAU,EAAC,OAAMI,IAAI,EAAC;EAACC;AAAiB,CAAC,KAAG;EACzF,IAAG;IACH,MAAMC,GAAG,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,gBAAgB,EAACH,IAAI,CAAC;IACnD,OAAOE,GAAG,CAACF,IAAI;EAEf,CAAC,CACD,OAAMI,KAAK,EAAC;IACXH,iBAAiB,CAACG,KAAK,CAACC,QAAQ,CAACL,IAAI,CAACM,GAAG,CAAC;EAE3C;AAEA,CAAC,CAAC;AAGF,OAAO,MAAMC,SAAS,GAAGX,gBAAgB,CAAC,OAAO,EAAC,OAAMI,IAAI,EAAC;EAACC;AAAiB,CAAC,KAAG;EAC/E,IAAG;IACH,MAAMC,GAAG,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,aAAa,EAACH,IAAI,CAAC;IAChD,OAAOE,GAAG,CAACF,IAAI;EAEf,CAAC,CACD,OAAMI,KAAK,EAAC;IACXH,iBAAiB,CAACG,KAAK,CAACC,QAAQ,CAACL,IAAI,CAACM,GAAG,CAAC;EAE3C;AAEA,CAAC,CAAC;AACF,MAAME,SAAS,GAAGX,WAAW,CAAC;EAC5BY,IAAI,EAAE,MAAM;EACZC,YAAY,EAAC;IACXC,SAAS,EAAG,KAAK;IACjBC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI;IAACV,KAAK,EAAE,KAAK;IACzDW,MAAM,EAAEC,OAAO,CAACH,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI;EAGrD,CAAC;EACDG,QAAQ,EAAC,CAET,CAAC;EACDC,aAAa,EAAC;IACZ,CAACnB,YAAY,CAACoB,OAAO,GAAGC,KAAK,IAAG;MAACA,KAAK,CAACT,SAAS,GAAG,IAAI;IAAA,CAAC;IACxD,CAACZ,YAAY,CAACsB,SAAS,GAAE,CAACD,KAAK,EAACE,MAAM,KAAG;MACxCF,KAAK,CAACR,KAAK,GAAGU,MAAM,CAACC,OAAO,CAACX,KAAK;MAClCQ,KAAK,CAAChB,KAAK,GAAG,IAAI;IAEnB;EAIF;AACF,CAAC,CAAC;AAIF,eAAeI,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}